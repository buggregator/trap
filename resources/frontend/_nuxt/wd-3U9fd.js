import{n as m,R as u}from"./BFT9qVMJ.js";import{E as o}from"./BmkTCIb-.js";const l=()=>{const a=m(),{token:r}=a.$authToken??{token:null},c={"X-Auth-Token":r||""},n=e=>`${u}/api/smtp/${e}/attachments`;return{getAttachmentsRestUrl:n,getAttachments:e=>fetch(n(e),{headers:c}).then(t=>t.json()).then(t=>t!=null&&t.data?t.data:(t==null?void 0:t.code)===403?(console.error("Forbidden"),[]):(console.error("Fetch Error"),[]))}},i=a=>({id:a.uuid,type:o.SMTP,labels:[o.SMTP],origin:null,serverName:"",date:a.timestamp?new Date(a.timestamp*1e3):null,payload:a.payload}),p=()=>{const{getAttachments:a}=l();return{normalizeSmtpEvent:i,getAttachments:a}};export{p as u};
