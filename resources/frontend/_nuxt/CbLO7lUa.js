import{u as q}from"./C_H-m1dF.js";import{m as H}from"./D2aBVH6c.js";import"./BmkTCIb-.js";import{C as b,T as S,a as B,u as P}from"./BdYR1MGi.js";import{d as x,c as C,o as e,a as n,b as d,t as _,f as c,u as l,h as u,g as r,F as i,r as k,w as p,e as M,p as I,i as R,_ as w,j as V,k as Y,l as T,m as D,n as F}from"./BFT9qVMJ.js";import{P as j,u as A}from"./Dw0BM4Dm.js";import"./CsfJzf5f.js";import{u as L}from"./DnpK2bYY.js";const N=s=>(I("data-v-b6c264bf"),s=s(),R(),s),z={ref:"main",class:"monolog"},U={class:"monolog__in"},X={class:"monolog__header"},Z={class:"monolog__header-title"},G={class:"monolog__header-meta"},J={class:"monolog__header-date"},K={key:2,class:"monolog__body"},O=N(()=>d("h3",{class:"monolog__body-text"},"Source",-1)),Q={key:3,class:"monolog__body"},W=N(()=>d("h3",{class:"monolog__body-text"},"Request",-1)),ee=x({__name:"monolog-page",props:{event:{}},setup(s){const m=s,v=C(()=>H(m.event.date).format("DD.MM.YYYY HH:mm:ss"));return(o,g)=>(e(),n("div",z,[d("main",U,[d("header",X,[d("h2",Z," Channel: "+_(o.event.payload.channel),1),d("div",G,[d("span",J,_(v.value),1)])]),c(l(b),{class:"monolog__body",code:o.event.payload.message},null,8,["code"]),o.event.payload.context?(e(),u(l(b),{key:0,class:"monolog__body",language:"json",code:o.event.payload.context},null,8,["code"])):r("",!0),o.event.payload.extra&&o.event.payload.extra.length?(e(!0),n(i,{key:1},k(o.event.payload.extra,(a,t)=>(e(),u(l(b),{key:t,class:"monolog__body",code:{[t]:String(a)}},null,8,["code"]))),128)):r("",!0),o.event.payload.context.source?(e(),n("section",K,[O,c(l(S),{class:"monolog__body-table"},{default:p(()=>[(e(!0),n(i,null,k(o.event.payload.context.source,(a,t)=>(e(),u(l(B),{key:t,title:String(t)},{default:p(()=>[M(_(a),1)]),_:2},1032,["title"]))),128))]),_:1})])):r("",!0),o.event.payload.context.request?(e(),n("section",Q,[W,c(l(S),{class:"monolog__body-table"},{default:p(()=>[(e(!0),n(i,null,k(o.event.payload.context.request,(a,t)=>(e(),n(i,{key:t},[t&&a?(e(),u(l(B),{key:0,title:String(t)},{default:p(()=>[M(_(a),1)]),_:2},1032,["title"])):r("",!0)],64))),128))]),_:1})])):r("",!0)])],512))}}),oe=w(ee,[["__scopeId","data-v-b6c264bf"]]),$=s=>(I("data-v-656a90af"),s=s(),R(),s),te={class:"monolog"},se={key:0,class:"monolog__loading"},ae=$(()=>d("div",null,null,-1)),ne=$(()=>d("div",null,null,-1)),le=$(()=>d("div",null,null,-1)),de=[ae,ne,le],re={key:1,class:"monolog__body"},ce=x({__name:"[id]",setup(s){const{normalizeMonologEvent:m}=L(),{params:v}=V(),{$authToken:o}=F(),g=Y(),a=v.id;q(`Monolog > ${a} | Buggregator`);const{events:t}=P(),h=T(!1),y=T(null),f=C(()=>y.value?m(y.value):null);return D(async()=>{h.value=!0,await A(t.getUrl(a),{headers:{"X-Auth-Token":o.token||""},onResponse({response:{_data:E}}){y.value=E,h.value=!1},onResponseError(){g.push("/404")},onRequestError(){g.push("/404")}},"$NTCoHPBE5Z")}),(E,ue)=>(e(),n("main",te,[c(l(j),{title:"Monolog","event-id":l(a)},null,8,["event-id"]),h.value&&!f.value?(e(),n("div",se,de)):r("",!0),f.value?(e(),n("div",re,[c(l(oe),{event:f.value},null,8,["event"])])):r("",!0)]))}}),be=w(ce,[["__scopeId","data-v-656a90af"]]);export{be as default};
