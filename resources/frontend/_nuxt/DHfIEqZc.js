import{p as h,R,c as T}from"./BdYR1MGi.js";import{E}from"./BmkTCIb-.js";const Y=a=>{var i,r,p,y,m,f,c,d,_,t;let s={php_version:(i=a.payload.meta)==null?void 0:i.php_version,laravel_version:"",symfony_version:""};(r=a.payload.meta)!=null&&r.laravel_version?s.laravel_version=(p=a.payload.meta)==null?void 0:p.laravel_version:(y=a.payload.meta)!=null&&y.symfony_version&&(s.symfony_version=(m=a.payload.meta)==null?void 0:m.symfony_version),(((f=a==null?void 0:a.payload)==null?void 0:f.payloads)||[]).forEach(o=>{o.origin&&(s={...s,...h(o.origin,["file","line_number","hostname"])})});const e=(((c=a==null?void 0:a.payload)==null?void 0:c.payloads)||[]).filter(o=>o.type==="label").map(o=>{var l;return(l=o==null?void 0:o.content)==null?void 0:l.label}).filter(Boolean),n=(((d=a==null?void 0:a.payload)==null?void 0:d.payloads)||[]).filter(o=>Object.values(R).includes(o.type)).map(o=>o.type).filter(Boolean),u=(((_=a==null?void 0:a.payload)==null?void 0:_.payloads)||[]).filter(o=>o.type==="color").map(o=>{var l;return(l=o.content)==null?void 0:l.color}).filter(Boolean).shift()||"black",b=(((t=a==null?void 0:a.payload)==null?void 0:t.payloads)||[]).filter(o=>o.type==="size").map(o=>{var l;return(l=o.content)==null?void 0:l.size}).filter(Boolean).shift()||"md";return{id:a.uuid,type:E.RAY_DUMP,labels:[E.RAY_DUMP,...e,...n].filter((o,l,P)=>P.indexOf(o)===l),origin:s,serverName:"",date:a.timestamp?new Date(a.timestamp*1e3):null,payload:a.payload,meta:{color:u,size:b}}},A=()=>({normalizeRayEvent:Y,COMPONENT_TYPE_MAP:T});export{A as u};
