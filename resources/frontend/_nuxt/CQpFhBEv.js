import{u as P}from"./C_H-m1dF.js";import"./BmkTCIb-.js";import{T as B,a as R,u as A}from"./BdYR1MGi.js";import{d as j,c as i,o,a as u,b as n,t as r,e as g,f as q,w as c,u as d,g as _,F as f,r as k,h,p as w,i as D,_ as O,j as C,k as F,l as T,m as N,n as V}from"./BFT9qVMJ.js";import{F as U}from"./CUPvwW3p.js";import{P as L,u as Q}from"./Dw0BM4Dm.js";import"./CsfJzf5f.js";import{u as z}from"./tA-419Ti.js";import"./UQLe1jqg.js";const b=p=>(w("data-v-b0d4d871"),p=p(),D(),p),J={ref:"main",class:"http-dump-page"},M={class:"http-dump-page__main"},X={class:"http-dump-page__title"},G={class:"http-dump-page__title-method"},K={class:"http-dump-page__title-uri"},W={key:0,class:"http-dump-page__section"},Y=b(()=>n("h1",null,"Headers",-1)),Z={key:1,class:"http-dump-page__section"},x=b(()=>n("h1",null,"Cookie",-1)),ee={key:2,class:"http-dump-page__section"},te=b(()=>n("h1",null,"Query Parameters",-1)),se={key:3,class:"http-dump-page__section"},ae=b(()=>n("h1",null,"POST Data",-1)),oe={key:4,class:"http-dump-page__section"},ne={class:"http-dump-page__attachments"},ue={key:5,class:"http-dump-page__section"},le=b(()=>n("h1",null,"Request Body",-1)),de={class:"http-dump-page__section-body"},pe=j({__name:"http-dump-page",props:{event:{}},setup(p){const l=p,S=i(()=>{var e,a;return decodeURI((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.uri)}),$=i(()=>{var e,a,t,s;return((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.post)&&Object.keys((s=(t=l.event.payload)==null?void 0:t.request)==null?void 0:s.post).length>0}),v=i(()=>{var e,a,t,s;return((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.query)&&Object.keys((s=(t=l.event.payload)==null?void 0:t.request)==null?void 0:s.query).length>0}),E=i(()=>{var e,a;return Object.keys(((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.headers)||{}).length>0}),H=i(()=>{var e,a,t,s;return((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.cookies)&&Object.keys((s=(t=l.event.payload)==null?void 0:t.request)==null?void 0:s.cookies).length>0}),m=i(()=>{var e,a,t;return((t=(a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.body)==null?void 0:t.length)>0}),y=i(()=>{var e,a,t,s;return((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.files)&&Object.keys((s=(t=l.event.payload)==null?void 0:t.request)==null?void 0:s.files).length>0});return(e,a)=>(o(),u("div",J,[n("main",M,[n("h2",X,[n("span",G,r(e.event.payload.request.method),1),g(": "),n("span",K,"/"+r(S.value),1)]),E.value?(o(),u("section",W,[Y,q(d(B),null,{default:c(()=>[(o(!0),u(f,null,k(e.event.payload.request.headers,(t,s)=>(o(),h(d(R),{key:s,title:String(s)},{default:c(()=>[g(r(t[0]||t),1)]),_:2},1032,["title"]))),128))]),_:1})])):_("",!0),H.value?(o(),u("section",Z,[x,q(d(B),null,{default:c(()=>[(o(!0),u(f,null,k(e.event.payload.request.cookies,(t,s)=>(o(),h(d(R),{key:s,title:String(s)},{default:c(()=>[g(r(t),1)]),_:2},1032,["title"]))),128))]),_:1})])):_("",!0),v.value?(o(),u("section",ee,[te,q(d(B),null,{default:c(()=>[(o(!0),u(f,null,k(e.event.payload.request.query,(t,s)=>(o(),h(d(R),{key:s,title:String(s)},{default:c(()=>[g(r(t),1)]),_:2},1032,["title"]))),128))]),_:1})])):_("",!0),$.value?(o(),u("section",se,[ae,q(d(B),null,{default:c(()=>[(o(!0),u(f,null,k(e.event.payload.request.post,(t,s)=>(o(),h(d(R),{key:s,title:String(s)},{default:c(()=>[g(r(t),1)]),_:2},1032,["title"]))),128))]),_:1})])):_("",!0),y.value?(o(),u("section",oe,[n("h1",null,"Attachments ("+r(e.event.payload.request.files.length)+")",1),n("div",ne,[(o(!0),u(f,null,k(e.event.payload.request.files,t=>(o(),h(d(U),{key:t.uuid,"event-id":e.event.id,attachment:t},null,8,["event-id","attachment"]))),128))])])):_("",!0),m.value?(o(),u("section",ue,[le,n("code",de,r(e.event.payload.request.body),1)])):_("",!0)])],512))}}),re=O(pe,[["__scopeId","data-v-b0d4d871"]]),I=p=>(w("data-v-83a0bf3d"),p=p(),D(),p),ce={class:"http-dump-event"},ie={key:0,class:"http-dump-event__loading"},_e=I(()=>n("div",null,null,-1)),he=I(()=>n("div",null,null,-1)),ve=I(()=>n("div",null,null,-1)),me=[_e,he,ve],ye={class:"http-dump-event__body"},ge=j({__name:"[id]",setup(p){const{normalizeHttpDumpEvent:l}=z(),{params:S}=C(),$=F(),v=S.id;P(`Http dumps > ${v} | Buggregator`);const{events:E}=A(),{$authToken:H}=V(),m=T(!1),y=T(null),e=i(()=>y.value?l(y.value):null);return N(async()=>{await Q(E.getUrl(v),{headers:{"X-Auth-Token":H.token||""},onRequest(){m.value=!0},onResponse({response:{_data:t}}){y.value=t,m.value=!1},onResponseError(){$.push("/404")},onRequestError(){$.push("/404")}},"$4nnyBavJUR")}),(t,s)=>(o(),u("main",ce,[q(d(L),{title:"Http dumps","event-id":d(v)},null,8,["event-id"]),m.value&&!e.value?(o(),u("div",ie,me)):_("",!0),n("div",ye,[e.value?(o(),h(d(re),{key:0,event:e.value},null,8,["event"])):_("",!0)])]))}}),He=O(ge,[["__scopeId","data-v-83a0bf3d"]]);export{He as default};
