import{_ as me,u as te,C as N,d as Ce,V as Pe,c as ke}from"./Cuqdu9nB.js";import{d as C,c as $,o as u,a as f,b as m,F as M,r as H,t as T,g as b,f as y,u as p,_ as I,s as j,h as E,w as R,l as B,P as Re,B as xe,R as Te,e as W,K as he,J as Le,p as Ie,i as Oe,H as Ue,E as ze}from"./BqbMuE7y.js";import{I as U,E as D,h as fe,d as ae,P as se}from"./BefdN0MI.js";import{u as De}from"./B3ev0iw2.js";import{I as Ve,u as Ae}from"./Cduf3Gc_.js";import{S as Me,u as Fe}from"./DdKTkMGq.js";import{u as Be}from"./DAR3qIk9.js";import{S as He,u as je}from"./BCrvxhm1.js";import{u as qe}from"./BnFX9pPB.js";import{u as Ne}from"./DUf8yZCu.js";import{u as We,P as Ge}from"./k1uqWTyJ.js";function Je(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const Ye=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function V(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}function G(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function Ke(e){const t=G(e,"border-left-width"),r=G(e,"border-right-width");return e.clientWidth+t+r}function Xe(e){const t=G(e,"border-top-width"),r=G(e,"border-bottom-width");return e.clientHeight+t+r}function ve(e,t={}){const r=t.width||Ke(e),n=t.height||Xe(e);return{width:r,height:n}}function Qe(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const O=16384;function Ze(e){(e.width>O||e.height>O)&&(e.width>O&&e.height>O?e.width>e.height?(e.height*=O/e.width,e.width=O):(e.width*=O/e.height,e.height=O):e.width>O?(e.height*=O/e.width,e.width=O):(e.width*=O/e.height,e.height=O))}function et(e,t={}){return e.toBlob?new Promise(r=>{e.toBlob(r,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(r=>{const n=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),a=n.length,s=new Uint8Array(a);for(let o=0;o<a;o+=1)s[o]=n.charCodeAt(o);r(new Blob([s],{type:t.type?t.type:"image/png"}))})}function J(e){return new Promise((t,r)=>{const n=new Image;n.decode=()=>t(n),n.onload=()=>t(n),n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function tt(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function nt(e,t,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${t} ${r}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(e),tt(a)}const L=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||L(r,t)};function rt(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function at(e){return V(e).map(t=>{const r=e.getPropertyValue(t),n=e.getPropertyPriority(t);return`${t}: ${r}${n?" !important":""};`}).join(" ")}function st(e,t,r){const n=`.${e}:${t}`,a=r.cssText?rt(r):at(r);return document.createTextNode(`${n}{${a}}`)}function oe(e,t,r){const n=window.getComputedStyle(e,r),a=n.getPropertyValue("content");if(a===""||a==="none")return;const s=Ye();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(st(s,r,n)),t.appendChild(o)}function ot(e,t){oe(e,t,":before"),oe(e,t,":after")}const ie="application/font-woff",le="image/jpeg",it={woff:ie,woff2:ie,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:le,jpeg:le,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function lt(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function ne(e){const t=lt(e).toLowerCase();return it[t]||""}function ct(e){return e.split(/,/)[1]}function ee(e){return e.search(/^(data:)/)!==-1}function ge(e,t){return`data:${t};base64,${e}`}async function _e(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((s,o)=>{const i=new FileReader;i.onerror=o,i.onloadend=()=>{try{s(r({res:n,result:i.result}))}catch(c){o(c)}},i.readAsDataURL(a)})}const Z={};function ut(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function re(e,t,r){const n=ut(e,t,r.includeQueryParams);if(Z[n]!=null)return Z[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const s=await _e(e,r.fetchRequestInit,({res:o,result:i})=>(t||(t=o.headers.get("Content-Type")||""),ct(i)));a=ge(s,t)}catch(s){a=r.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;s&&(o=typeof s=="string"?s:s.message),o&&console.warn(o)}return Z[n]=a,a}async function dt(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):J(t)}async function pt(e,t){if(e.currentSrc){const s=document.createElement("canvas"),o=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,o==null||o.drawImage(e,0,0,s.width,s.height);const i=s.toDataURL();return J(i)}const r=e.poster,n=ne(r),a=await re(r,n,t);return J(a)}async function mt(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await K(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function ht(e,t){return L(e,HTMLCanvasElement)?dt(e):L(e,HTMLVideoElement)?pt(e,t):L(e,HTMLIFrameElement)?mt(e):e.cloneNode(!1)}const ft=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function vt(e,t,r){var n,a;let s=[];return ft(e)&&e.assignedNodes?s=V(e.assignedNodes()):L(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?s=V(e.contentDocument.body.childNodes):s=V(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),s.length===0||L(e,HTMLVideoElement)||await s.reduce((o,i)=>o.then(()=>K(i,r)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function gt(e,t){const r=t.style;if(!r)return;const n=window.getComputedStyle(e);n.cssText?(r.cssText=n.cssText,r.transformOrigin=n.transformOrigin):V(n).forEach(a=>{let s=n.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),L(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,n.getPropertyPriority(a))})}function _t(e,t){L(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),L(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function wt(e,t){if(L(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function yt(e,t){return L(t,Element)&&(gt(e,t),ot(e,t),_t(e,t),wt(e,t)),t}async function bt(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let s=0;s<r.length;s++){const i=r[s].getAttribute("xlink:href");if(i){const c=e.querySelector(i),g=document.querySelector(i);!c&&g&&!n[i]&&(n[i]=await K(g,t,!0))}}const a=Object.values(n);if(a.length){const s="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,"svg");o.setAttribute("xmlns",s),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const i=document.createElementNS(s,"defs");o.appendChild(i);for(let c=0;c<a.length;c++)i.appendChild(a[c]);e.appendChild(o)}return e}async function K(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>ht(n,t)).then(n=>vt(e,n,t)).then(n=>yt(e,n)).then(n=>bt(n,t))}const we=/url\((['"]?)([^'"]+?)\1\)/g,$t=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Et=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function St(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Ct(e){const t=[];return e.replace(we,(r,n,a)=>(t.push(a),r)),t.filter(r=>!ee(r))}async function Pt(e,t,r,n,a){try{const s=r?Je(t,r):t,o=ne(t);let i;if(a){const c=await a(s);i=ge(c,o)}else i=await re(s,o,n);return e.replace(St(t),`$1${i}$3`)}catch{}return e}function kt(e,{preferredFontFormat:t}){return t?e.replace(Et,r=>{for(;;){const[n,,a]=$t.exec(r)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function ye(e){return e.search(we)!==-1}async function be(e,t,r){if(!ye(e))return e;const n=kt(e,r);return Ct(n).reduce((s,o)=>s.then(i=>Pt(i,o,t,r)),Promise.resolve(n))}async function q(e,t,r){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const s=await be(a,null,r);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function Rt(e,t){await q("background",e,t)||await q("background-image",e,t),await q("mask",e,t)||await q("mask-image",e,t)}async function xt(e,t){const r=L(e,HTMLImageElement);if(!(r&&!ee(e.src))&&!(L(e,SVGImageElement)&&!ee(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,a=await re(n,ne(n),t);await new Promise((s,o)=>{e.onload=s,e.onerror=o;const i=e;i.decode&&(i.decode=s),i.loading==="lazy"&&(i.loading="eager"),r?(e.srcset="",e.src=a):e.href.baseVal=a})}async function Tt(e,t){const n=V(e.childNodes).map(a=>$e(a,t));await Promise.all(n).then(()=>e)}async function $e(e,t){L(e,Element)&&(await Rt(e,t),await xt(e,t),await Tt(e,t))}function Lt(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),e}const ce={};async function ue(e){let t=ce[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},ce[e]=t,t}async function de(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(r.match(/url\([^)]+\)/g)||[]).map(async o=>{let i=o.replace(n,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),_e(i,t.fetchRequestInit,({result:c})=>(r=r.replace(o,`url(${c})`),[o,c]))});return Promise.all(s).then(()=>r)}function pe(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=a.exec(n);if(c===null)break;t.push(c[0])}n=n.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",i=new RegExp(o,"gi");for(;;){let c=s.exec(n);if(c===null){if(c=i.exec(n),c===null)break;s.lastIndex=i.lastIndex}else i.lastIndex=s.lastIndex;t.push(c[0])}return t}async function It(e,t){const r=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{V(a.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let i=o+1;const c=s.href,g=ue(c).then(v=>de(v,t)).then(v=>pe(v).forEach(S=>{try{a.insertRule(S,S.startsWith("@import")?i+=1:a.cssRules.length)}catch(w){console.error("Error inserting rule from remote css",{rule:S,error:w})}})).catch(v=>{console.error("Error loading remote css",v.toString())});n.push(g)}})}catch(s){const o=e.find(i=>i.href==null)||document.styleSheets[0];a.href!=null&&n.push(ue(a.href).then(i=>de(i,t)).then(i=>pe(i).forEach(c=>{o.insertRule(c,a.cssRules.length)})).catch(i=>{console.error("Error loading remote stylesheet",i)})),console.error("Error inlining remote css file",s)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{V(a.cssRules||[]).forEach(s=>{r.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s)}}),r))}function Ot(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>ye(t.style.getPropertyValue("src")))}async function Ut(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=V(e.ownerDocument.styleSheets),n=await It(r,t);return Ot(n)}async function zt(e,t){const r=await Ut(e,t);return(await Promise.all(r.map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return be(a.cssText,s,t)}))).join(`
`)}async function Dt(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await zt(e,t);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function Vt(e,t={}){const{width:r,height:n}=ve(e,t),a=await K(e,t,!0);return await Dt(a,t),await $e(a,t),Lt(a,t),await nt(a,r,n)}async function Ee(e,t={}){const{width:r,height:n}=ve(e,t),a=await Vt(e,t),s=await J(a),o=document.createElement("canvas"),i=o.getContext("2d"),c=t.pixelRatio||Qe(),g=t.canvasWidth||r,v=t.canvasHeight||n;return o.width=g*c,o.height=v*c,t.skipAutoScale||Ze(o),o.style.width=`${g}`,o.style.height=`${v}`,t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,o.width,o.height)),i.drawImage(s,0,0,o.width,o.height),o}async function At(e,t={}){return(await Ee(e,t)).toDataURL()}async function Mt(e,t={}){const r=await Ee(e,t);return await et(r)}const Ft={class:"preview-card-footer"},Bt={class:"preview-card-footer__tags"},Ht={class:"preview-card-footer__tag-key"},jt={class:"preview-card-footer__tag-value"},qt={key:0,class:"preview-card-footer__host"},Nt={class:"preview-card-footer__host-name"},Wt=C({__name:"preview-card-footer",props:{serverName:{default:""},originConfig:{default:null}},setup(e){const t={php_version:"php",laravel_version:"laravel",symfony_version:"symfony",line_number:"line",hostname:"host",environment:"env"},r=e,n=$(()=>r.originConfig?Object.entries(r.originConfig).reduce((a,[s,o])=>{if(!o||o==="undefined")return a;const i=t[s]||s;return a[i]=o,a},{}):{});return(a,s)=>(u(),f("div",Ft,[m("div",Bt,[n.value?(u(!0),f(M,{key:0},H(n.value,(o,i)=>(u(),f("div",{key:i,class:"preview-card-footer__tag"},[m("span",Ht,T(i)+":",1),m("span",jt,T(o),1)]))),128)):b("",!0)]),a.serverName?(u(),f("div",qt,[y(p(U),{name:"host",class:"preview-card-footer__host-icon"}),m("span",Nt,T(a.serverName),1)])):b("",!0)]))}}),Gt=I(Wt,[["__scopeId","data-v-5fee8941"]]);var Y=(e=>(e.File="file",e.Image="image",e))(Y||{});const Jt={class:"preview-card-header"},Yt={class:"preview-card-header__tags"},Kt=["href"],Xt={key:0,class:"preview-card-header__buttons"},Qt={key:0,class:"preview-card-header__buttons-expand"},Zt={class:"preview-card-header__buttons-expand-list"},en=["disabled"],tn=C({__name:"preview-card-header",props:{eventType:{},eventId:{},eventUrl:{default:""},tags:{default:()=>[]},isOpen:{type:Boolean},isLocked:{type:Boolean},isVisibleControls:{type:Boolean}},emits:["delete","toggleView","copy","download","lock"],setup(e,{emit:t}){const r=e,n=t,a=()=>{n("toggleView",!0)},s=()=>{n("delete",!0)},o=()=>{n("copy",!0)},i=()=>{n("download",Y.Image)},c=()=>{n("download",Y.File)},g=()=>{n("lock",!0)},v=$(()=>r.tags.length>0),S=$(()=>Object.values(D).includes(r.eventType)?`/${r.eventType}/${r.eventId}`:"");return(w,z)=>{const _=me;return u(),f("div",Jt,[m("div",Yt,[w.eventUrl?(u(),f("a",{key:0,href:w.eventUrl,target:"_blank",class:"preview-card-header__tag preview-card-header__tag--json",title:"Open JSON payload for this event in new tab"}," JSON ",8,Kt)):b("",!0),v.value?(u(!0),f(M,{key:1},H(w.tags,l=>(u(),f("div",{key:l,ref_for:!0,ref:"tags",class:j(["preview-card-header__tag",`preview-card-header__tag--${w.eventType}`])},T(l),3))),128)):b("",!0),S.value?(u(),E(_,{key:2,to:S.value,class:"preview-card-header__open",title:"Open full event"},{default:R(()=>[y(p(U),{name:"window-maximize"})]),_:1},8,["to"])):b("",!0)]),w.isVisibleControls?(u(),f("div",Xt,[w.isOpen?(u(),f("div",Qt,[m("button",{class:"preview-card-header__button preview-card-header__button--copy",title:"Copy event as PNG image to clipboard",onClick:o},[y(p(U),{name:"copy",class:"preview-card-header__button-icon"})]),m("div",Zt,[m("button",{class:"preview-card-header__button preview-card-header__button--copy",title:"Download event as JSON file",onClick:c},[y(p(U),{name:"file-download",class:"preview-card-header__button-icon"})]),m("button",{class:"preview-card-header__button preview-card-header__button--copy",title:"Download event as PNG image",onClick:i},[y(p(U),{name:"image-download",class:"preview-card-header__button-icon"})])])])):b("",!0),m("button",{class:j(["preview-card-header__button preview-card-header__button--collapse",{"preview-card-header__button--collapse-closed":!w.isOpen}]),title:"Collapse event",onClick:a},[w.isOpen?(u(),E(p(U),{key:0,name:"minus",class:"preview-card-header__button-icon"})):b("",!0),w.isOpen?b("",!0):(u(),E(p(U),{key:1,name:"plus",class:"preview-card-header__button-icon"}))],2),m("button",{class:j(["preview-card-header__button preview-card-header__button--lock",{"preview-card-header__button--locked":w.isLocked}]),title:"Lock event. Locked events will not be deleted",onClick:g},[y(p(U),{name:"lock",class:"preview-card-header__button-icon"})],2),m("button",{class:"preview-card-header__button preview-card-header__button--delete",title:"Delete event",disabled:w.isLocked,onClick:s},[y(p(U),{name:"times",class:"preview-card-header__button-icon"})],8,en)])):b("",!0)])}}}),nn=I(tn,[["__scopeId","data-v-91520872"]]),rn=["id"],an={key:0,ref:"event_body",class:"preview-card__body"},sn=C({__name:"preview-card",props:{event:{}},setup(e){const t=e,r=B(!1),n=B(!1),a=B(!1),s=B(!0),o=B(null),i=B(!1),{events:c,lockedIds:g}=te(),v=$(()=>[fe(t.event.date).format("HH:mm:ss"),...t.event.labels]),S=$(()=>{const h=Object.entries(t.event.origin||{}).map(([X,Q])=>[X,String(Q)]).filter(([X,Q])=>!!Q);return h.length>0?Object.fromEntries(h):null}),w=$(()=>`${Te}/api/event/${t.event.id}`),z=h=>{r.value=!r.value,h.preventDefault()},_=(h=!0)=>{s.value=h},l=()=>{i.value=!0,setTimeout(()=>{c==null||c.removeById(t.event.id),i.value=!1},200)},d=()=>{((g==null?void 0:g.items.value)||[]).includes(t.event.id)?(g==null||g.remove(t.event.id),n.value=!1):(g==null||g.add(t.event.id),n.value=!0)},x=()=>{_(!1),o.value&&At(o.value).then(h=>{ae(h,`${t.event.type}-${t.event.id}.png`)}).catch(h=>console.error(h)).finally(()=>{_(!0)})},P=async()=>{try{const h=await(c==null?void 0:c.getItem(t.event.id));h&&ae(JSON.stringify(h,null,2),`${t.event.type}-${t.event.id}.json`,"application/json")}catch(h){console.error(h)}},k=h=>{h===Y.Image?x():P()},F=()=>{_(!1),o.value&&Mt(o.value).then(h=>{h&&navigator.clipboard.write([new ClipboardItem({[h.type]:h})])}).catch(h=>console.error(h)).finally(()=>{_(!0)})};return Re(()=>{n.value=g.items.value.includes(t.event.id)}),(h,X)=>(u(),f("div",{id:h.event.id,ref_key:"eventRef",ref:o,class:j(["preview-card",{"preview-card--deleting":i.value}])},[y(nn,{class:"preview-card__header","event-url":w.value,"event-type":h.event.type,"event-id":h.event.id,tags:v.value,"is-open":!r.value&&!a.value,"is-locked":n.value,"is-visible-controls":s.value&&!a.value,onToggleView:z,onDelete:l,onCopy:F,onDownload:k,onLock:d,onDblclick:z},null,8,["event-url","event-type","event-id","tags","is-open","is-locked","is-visible-controls"]),!r.value&&!a.value?(u(),f("div",an,[xe(h.$slots,"default",{},void 0,!0)],512)):b("",!0),!r.value&&!a.value&&(S.value||h.event.serverName)?(u(),E(Gt,{key:1,class:"preview-card__footer","server-name":h.event.serverName,"origin-config":S.value},null,8,["server-name","origin-config"])):b("",!0)],10,rn))}}),A=I(sn,[["__scopeId","data-v-1aa80559"]]),on={class:"preview-card__content"},ln={class:"preview-card__method"},cn={class:"preview-card__uri"},un=C({__name:"preview-card",props:{event:{}},setup(e){const r=decodeURI(e.event.payload.request.uri);return(n,a)=>(u(),E(p(A),{class:"preview-card",event:n.event},{default:R(()=>[m("div",on,[m("span",ln,T(n.event.payload.request.method),1),W(": "),m("span",cn,"/"+T(p(r)),1)])]),_:1},8,["event"]))}}),dn=I(un,[["__scopeId","data-v-0f718e23"]]),pn={class:"preview-card__content"},mn=C({__name:"preview-card",props:{event:{}},setup(e){return(t,r)=>(u(),E(p(A),{class:"preview-card",event:t.event},{default:R(()=>[m("div",pn,[y(Ve,{transaction:t.event.payload[0]},null,8,["transaction"])])]),_:1},8,["event"]))}}),hn=I(mn,[["__scopeId","data-v-2c3d0492"]]),fn=e=>{var r,n;const t=((n=(r=e.payload)==null?void 0:r.context)==null?void 0:n.source)||null;return{id:e.uuid,type:D.MONOLOG,labels:[D.MONOLOG],origin:t,serverName:"",date:e.timestamp?new Date(e.timestamp*1e3):null,payload:e.payload}},vn=()=>({normalizeMonologEvent:fn}),gn=C({__name:"preview-card",props:{event:{}},setup(e){return(t,r)=>(u(),E(p(A),{class:"preview-card",event:t.event},{default:R(()=>[y(p(N),{class:"preview-card__snippet",code:t.event.payload.message},null,8,["code"]),t.event.payload.context?(u(),E(p(N),{key:0,class:"preview-card__snippet",language:"json",code:t.event.payload.context},null,8,["code"])):b("",!0),(u(!0),f(M,null,H(t.event.payload.extra,(n,a)=>(u(),E(p(N),{key:a,class:"preview-card__snippet",code:{[a]:n}},null,8,["code"]))),128))]),_:1},8,["event"]))}}),_n=I(gn,[["__scopeId","data-v-0daee61c"]]),wn={class:"profiler-preview__link"},yn=C({__name:"preview-card",props:{event:{}},setup(e){return(t,r)=>(u(),E(p(A),{class:"profiler-preview",event:t.event},{default:R(()=>[m("div",wn,[y(p(Me),{cost:t.event.payload.peaks},null,8,["cost"])])]),_:1},8,["event"]))}}),bn=I(yn,[["__scopeId","data-v-ad10f2a2"]]),$n={key:0},En=C({__name:"preview-card",props:{event:{}},setup(e){const t=e,r=$(()=>{const{meta:s,...o}=t.event;return o}),n=$(()=>[`text-${t.event.meta.size}`,`text-${t.event.meta.color}-500`]),a=s=>Ce[s];return(s,o)=>(u(),E(p(A),{class:"ray-dump-preview",event:r.value},{default:R(()=>[(u(!0),f(M,null,H(s.event.payload.payloads,i=>(u(),f(M,{key:`${i.type}-${i.origin?i.origin.line_number:""}`},[i.type&&a(i.type)?(u(),f("div",$n,[(u(),E(he(a(i.type).view),Le({ref_for:!0},{...a(i.type).getProps(i)},{class:n.value}),null,16,["class"]))])):b("",!0)],64))),128))]),_:1},8,["event"]))}}),Sn={class:"preview-card__content"},Cn={class:"preview-card__title"},Pn=["innerHTML"],kn={key:1},Rn={class:"preview-card__content"},xn=["innerHTML"],Tn=C({__name:"preview-card",props:{event:{},maxFrames:{default:3}},setup(e){const t=e,r=$(()=>{var o,i,c;return((c=(i=(o=t.event)==null?void 0:o.payload)==null?void 0:i.exception)==null?void 0:c.values)||[]}),n=$(()=>r.value.length>0),a=$(()=>{var o;return((o=t.event.payload)==null?void 0:o.message)||""}),s=$(()=>r.value.length>0?r.value[0]:{type:"Unknown",value:"Something went wrong",stacktrace:{frames:[]}});return(o,i)=>(u(),E(p(A),{class:"preview-card",event:o.event},{default:R(()=>[n.value?(u(),E(p(He),{key:0,exception:s.value,"max-frames":o.maxFrames},{default:R(()=>[m("div",Sn,[m("h3",Cn,T(s.value.type),1),m("pre",{class:"preview-card__text",innerHTML:s.value.value},null,8,Pn)])]),_:1},8,["exception","max-frames"])):b("",!0),a.value?(u(),f("div",kn,[m("div",Rn,[m("pre",{class:"preview-card__text",innerHTML:a.value},null,8,xn)])])):b("",!0)]),_:1},8,["event"]))}}),Ln=I(Tn,[["__scopeId","data-v-c5c2e9f3"]]),In=e=>(Ie("data-v-1cdba783"),e=e(),Oe(),e),On={class:"smtp-preview__link"},Un={class:"smtp-preview__link-title"},zn={class:"smtp-preview__link-text"},Dn={key:0},Vn=In(()=>m("strong",null,"To:",-1)),An=C({__name:"preview-card",props:{event:{}},setup(e){const t=e,r=$(()=>fe(t.event.date).fromNow()),n=$(()=>{var a,s,o,i;return((i=(o=(s=(a=t==null?void 0:t.event)==null?void 0:a.payload)==null?void 0:s.to)==null?void 0:o[0])==null?void 0:i.email)||null});return(a,s)=>(u(),E(p(A),{class:"smtp-preview",event:a.event},{default:R(()=>[m("div",On,[m("h3",Un,T(a.event.payload.subject),1),m("div",zn,[n.value?(u(),f("span",Dn,[Vn,W(" "+T(n.value),1)])):b("",!0),m("span",null,T(r.value),1)])])]),_:1},8,["event"]))}}),Mn=I(An,[["__scopeId","data-v-1cdba783"]]),Fn=C({__name:"preview-card",props:{event:{}},setup(e){const t=e,r=$(()=>String(t.event.payload.payload.value));return(n,a)=>(u(),E(p(A),{class:"preview-card",event:n.event},{default:R(()=>[y(p(Pe),{value:r.value,type:n.event.payload.payload.type,language:n.event.payload.payload.language||"plaintext"},null,8,["value","type","language"])]),_:1},8,["event"]))}}),Bn=I(Fn,[["__scopeId","data-v-45c84565"]]),Hn=C({__name:"preview-card-default",props:{event:{}},setup(e){return(t,r)=>(u(),E(p(A),{class:"event-card-fallback",event:t.event},{default:R(()=>[y(p(N),{class:"event-card-fallback__snippet",code:t.event,language:"json"},null,8,["code"])]),_:1},8,["event"]))}}),jn=I(Hn,[["__scopeId","data-v-c2147b95"]]),qn=C({__name:"event-card",props:{event:{}},setup(e){const{normalizeRayEvent:t}=Be(),{normalizeProfilerEvent:r}=Fe(),{normalizeVarDumpEvent:n}=Ne(),{normalizeMonologEvent:a}=vn(),{normalizeSentryEvent:s}=je(),{normalizeSmtpEvent:o}=qe(),{normalizeInspectorEvent:i}=Ae(),{normalizeHttpDumpEvent:c}=De(),{normalizeUnknownEvent:g}=te(),v=e,S={[D.SENTRY]:{view:Ln,normalize:s},[D.MONOLOG]:{view:_n,normalize:a},[D.VAR_DUMP]:{view:Bn,normalize:n},[D.RAY_DUMP]:{view:En,normalize:t},[D.SMTP]:{view:Mn,normalize:o},[D.PROFILER]:{view:bn,normalize:r},[D.INSPECTOR]:{view:hn,normalize:i},[D.HTTP_DUMP]:{view:dn,normalize:c},unknown:{view:jn,normalize:g}},{view:w,normalize:z}=S[v.event.type];return(_,l)=>(u(),E(he(p(w)),{event:p(z)(_.event)},null,8,["event"]))}}),Nn={class:"page-placeholder-item"},Wn=["href"],Gn=C({__name:"page-placeholder-item",props:{iconName:{},title:{},linkUrl:{}},setup(e){return(t,r)=>(u(),f("li",Nn,[y(p(U),{name:t.iconName,class:"page-placeholder-item__icon"},null,8,["name"]),m("a",{href:t.linkUrl,class:"page-placeholder-item__link",target:"_blank"},T(t.title),9,Wn)]))}}),Jn=I(Gn,[["__scopeId","data-v-1ff5b0df"]]),Yn={class:"page-placeholder"},Kn={class:"page-placeholder__logo"},Xn={class:"page-placeholder__list"},Qn=C({__name:"page-placeholder",setup(e){const t=[{iconName:"github",title:"Github repository",linkUrl:"https://github.com/buggregator"},{iconName:"docs",title:"Documentation",linkUrl:"https://docs.buggregator.dev"},{iconName:"discord",title:"Join our discord",linkUrl:"https://discord.gg/vDsCD3EKUB"}];return(r,n)=>(u(),f("div",Yn,[m("div",Kn,[y(p(U),{class:"page-placeholder__logo-in",name:"logo"})]),m("ul",Xn,[(u(),f(M,null,H(t,a=>y(Jn,{key:a.title,"icon-name":a.iconName,title:a.title,"link-url":a.linkUrl},null,8,["icon-name","title","link-url"])),64))])]))}}),Zn=I(Qn,[["__scopeId","data-v-6c03d8f9"]]);var Se={exports:{}};(function(e,t){(function(r,n){typeof ke=="function"?e.exports=n():r.pluralize=n()})(Ue,function(){var r=[],n=[],a={},s={},o={};function i(l){return typeof l=="string"?new RegExp("^"+l+"$","i"):l}function c(l,d){return l===d?d:l===l.toLowerCase()?d.toLowerCase():l===l.toUpperCase()?d.toUpperCase():l[0]===l[0].toUpperCase()?d.charAt(0).toUpperCase()+d.substr(1).toLowerCase():d.toLowerCase()}function g(l,d){return l.replace(/\$(\d{1,2})/g,function(x,P){return d[P]||""})}function v(l,d){return l.replace(d[0],function(x,P){var k=g(d[1],arguments);return c(x===""?l[P-1]:x,k)})}function S(l,d,x){if(!l.length||a.hasOwnProperty(l))return d;for(var P=x.length;P--;){var k=x[P];if(k[0].test(d))return v(d,k)}return d}function w(l,d,x){return function(P){var k=P.toLowerCase();return d.hasOwnProperty(k)?c(P,k):l.hasOwnProperty(k)?c(P,l[k]):S(k,P,x)}}function z(l,d,x,P){return function(k){var F=k.toLowerCase();return d.hasOwnProperty(F)?!0:l.hasOwnProperty(F)?!1:S(F,F,x)===F}}function _(l,d,x){var P=d===1?_.singular(l):_.plural(l);return(x?d+" ":"")+P}return _.plural=w(o,s,r),_.isPlural=z(o,s,r),_.singular=w(s,o,n),_.isSingular=z(s,o,n),_.addPluralRule=function(l,d){r.push([i(l),d])},_.addSingularRule=function(l,d){n.push([i(l),d])},_.addUncountableRule=function(l){if(typeof l=="string"){a[l.toLowerCase()]=!0;return}_.addPluralRule(l,"$0"),_.addSingularRule(l,"$0")},_.addIrregularRule=function(l,d){d=d.toLowerCase(),l=l.toLowerCase(),o[l]=d,s[d]=l},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(l){return _.addIrregularRule(l[0],l[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(l){return _.addPluralRule(l[0],l[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(l){return _.addSingularRule(l[0],l[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(_.addUncountableRule),_})})(Se);var er=Se.exports;const tr=ze(er),nr=["disabled"],rr=["title"],ar=C({__name:"pause-button",props:{disabled:{type:Boolean},isPaused:{type:Boolean},totalNewEventsCount:{}},emits:["toggleUpdate"],setup(e,{emit:t}){const r=t,n=e,a=$(()=>tr("new event",n.totalNewEventsCount,!0)),s=()=>{r("toggleUpdate",!0)};return(o,i)=>(u(),f("button",{class:j(["pause-button",{"pause-button--active":o.isPaused}]),disabled:o.disabled,onClick:s},[y(p(U),{name:o.isPaused?"bolt-slash":"bolt",class:"pause-button__icon"},null,8,["name"]),m("span",null,T(o.isPaused?"Paused":"Listening"),1),o.isPaused&&o.totalNewEventsCount?(u(),f("span",{key:0,class:"pause-button__count",title:a.value},T(o.totalNewEventsCount),9,rr)):b("",!0)],10,nr))}}),sr=I(ar,[["__scopeId","data-v-cb7bf4db"]]),or={class:"page-layout"},ir=m("span",null," / ",-1),lr={key:0,class:"page-layout__events"},cr={key:1,class:"page-layout__welcome"},br=C({__name:"page-layout",props:{title:{default:""},type:{}},setup(e){const t=e,{events:r,cachedEvents:n}=te(),a=$(()=>{var v;return((v=n.idsByType.value[t.type])==null?void 0:v.length)>0}),s=$(()=>t.type===se.ALL_EVENTS?r.items.value:r.items.value.filter(({type:v})=>v===t.type));We({title:`${t.title||"Events"}: ${s.value.length} | Buggregator`});const o=$(()=>a.value?s.value.filter(({uuid:v})=>{var S;return(S=n.idsByType.value[t.type])==null?void 0:S.includes(v)}):s.value),i=$(()=>r.items.value.length-o.value.length),c=()=>t.type===se.ALL_EVENTS?r.removeAll():r.removeByType(t.type),g=()=>{a.value?n.runUpdatesByType(t.type):n.stopUpdatesByType(t.type)};return(v,S)=>{const w=me;return u(),f("div",or,[y(p(Ge),{class:"page-layout__head","button-title":"Clear events",onDelete:c},{controls:R(()=>[y(p(sr),{disabled:o.value.length===0,"is-paused":a.value,"total-new-events-count":i.value,onToggleUpdate:g},null,8,["disabled","is-paused","total-new-events-count"])]),default:R(()=>[y(w,{to:"/",disabled:!v.title},{default:R(()=>[W("Home")]),_:1},8,["disabled"]),v.title?(u(),f(M,{key:0},[ir,y(w,{disabled:!0},{default:R(()=>[W(T(v.title),1)]),_:1})],64)):b("",!0)]),_:1}),o.value.length?(u(),f("main",lr,[(u(!0),f(M,null,H(o.value,z=>(u(),E(p(qn),{key:z.uuid,event:z,class:"page-layout__event"},null,8,["event"]))),128))])):b("",!0),o.value.length?b("",!0):(u(),f("section",cr,[y(p(Zn),{class:"page-layout__tips"})]))])}}});export{br as _};
