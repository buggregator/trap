import{T as H,a as S,u as O,_ as P}from"./Cuqdu9nB.js";import"./BefdN0MI.js";import{d as T,c as i,o,a as u,b as n,t as _,e as c,f as m,w as p,u as d,g as h,F as q,r as b,h as y,p as w,i as C,_ as N,j as A,k as F,l as j,m as V,n as L}from"./BqbMuE7y.js";import{F as M}from"./CKX8kQhS.js";import{u as Q,P as U}from"./k1uqWTyJ.js";import{u as z}from"./DU45Wy3H.js";import"./BBk2F9bR.js";import{u as J}from"./B3ev0iw2.js";import"./CF6J2D0o.js";const $=r=>(w("data-v-9f166e22"),r=r(),C(),r),W={ref:"main",class:"http-dump-page"},X={class:"http-dump-page__main"},x={class:"http-dump-page__title"},G={class:"http-dump-page__title-method"},K={class:"http-dump-page__title-uri"},Y={key:0,class:"http-dump-page__section"},Z=$(()=>n("h1",null,"Headers",-1)),ee={key:1,class:"http-dump-page__section"},te=$(()=>n("h1",null,"Cookie",-1)),se={key:2,class:"http-dump-page__section"},ae=$(()=>n("h1",null,"Query Parameters",-1)),oe={key:3,class:"http-dump-page__section"},ne=$(()=>n("h1",null,"POST Data",-1)),ue={key:4,class:"http-dump-page__section"},le={class:"http-dump-page__attachments"},de={key:5,class:"http-dump-page__section"},pe=$(()=>n("h1",null,"Request Body",-1)),re={class:"http-dump-page__section-body"},ce=T({__name:"http-dump-page",props:{event:{}},setup(r){const l=r,D=i(()=>{var e,a;return decodeURI((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.uri)}),g=i(()=>{var e,a,t,s;return((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.post)&&Object.keys((s=(t=l.event.payload)==null?void 0:t.request)==null?void 0:s.post).length>0}),v=i(()=>{var e,a,t,s;return((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.query)&&Object.keys((s=(t=l.event.payload)==null?void 0:t.request)==null?void 0:s.query).length>0}),B=i(()=>{var e,a;return Object.keys(((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.headers)||{}).length>0}),I=i(()=>{var e,a,t,s;return((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.cookies)&&Object.keys((s=(t=l.event.payload)==null?void 0:t.request)==null?void 0:s.cookies).length>0}),f=i(()=>{var e,a,t;return((t=(a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.body)==null?void 0:t.length)>0}),k=i(()=>{var e,a,t,s;return((a=(e=l.event.payload)==null?void 0:e.request)==null?void 0:a.files)&&Object.keys((s=(t=l.event.payload)==null?void 0:t.request)==null?void 0:s.files).length>0});return(e,a)=>(o(),u("div",W,[n("main",X,[n("h2",x,[n("span",G,_(e.event.payload.request.method),1),c(": "),n("span",K,"/"+_(D.value),1)]),B.value?(o(),u("section",Y,[Z,m(d(H),null,{default:p(()=>[(o(!0),u(q,null,b(e.event.payload.request.headers,(t,s)=>(o(),y(d(S),{key:s,title:String(s)},{default:p(()=>[c(_(t[0]||t),1)]),_:2},1032,["title"]))),128))]),_:1})])):h("",!0),I.value?(o(),u("section",ee,[te,m(d(H),null,{default:p(()=>[(o(!0),u(q,null,b(e.event.payload.request.cookies,(t,s)=>(o(),y(d(S),{key:s,title:String(s)},{default:p(()=>[c(_(t),1)]),_:2},1032,["title"]))),128))]),_:1})])):h("",!0),v.value?(o(),u("section",se,[ae,m(d(H),null,{default:p(()=>[(o(!0),u(q,null,b(e.event.payload.request.query,(t,s)=>(o(),y(d(S),{key:s,title:String(s)},{default:p(()=>[c(_(t),1)]),_:2},1032,["title"]))),128))]),_:1})])):h("",!0),g.value?(o(),u("section",oe,[ne,m(d(H),null,{default:p(()=>[(o(!0),u(q,null,b(e.event.payload.request.post,(t,s)=>(o(),y(d(S),{key:s,title:String(s)},{default:p(()=>[c(_(t),1)]),_:2},1032,["title"]))),128))]),_:1})])):h("",!0),k.value?(o(),u("section",ue,[n("h1",null,"Attachments ("+_(e.event.payload.request.files.length)+")",1),n("div",le,[(o(!0),u(q,null,b(e.event.payload.request.files,t=>(o(),y(d(M),{key:t.id,"event-id":e.event.id,attachment:t},null,8,["event-id","attachment"]))),128))])])):h("",!0),f.value?(o(),u("section",de,[pe,n("code",re,_(e.event.payload.request.body),1)])):h("",!0)])],512))}}),_e=N(ce,[["__scopeId","data-v-9f166e22"]]),E=r=>(w("data-v-43caba92"),r=r(),C(),r),ie={class:"http-dumps-event"},he={key:0,class:"http-dumps-event__loading"},me=E(()=>n("div",null,null,-1)),ve=E(()=>n("div",null,null,-1)),ye=E(()=>n("div",null,null,-1)),ge=[me,ve,ye],fe={class:"http-dumps-event__body"},ke=T({__name:"[id]",setup(r){const{normalizeHttpDumpEvent:l}=J(),{params:D}=A(),g=F(),v=D.id;Q({title:`Http dumps > ${v} | Buggregator`});const{events:B}=O(),{$authToken:I}=L(),f=j(!1),k=j(null),e=i(()=>k.value?l(k.value):null),a=()=>{B.removeById(v),g.push("/")};return V(async()=>{await z(B.getUrl(v),{headers:{"X-Auth-Token":I.token||""},onRequest(){f.value=!0},onResponse({response:{_data:s}}){k.value=s,f.value=!1},onResponseError(){g.push("/404")},onRequestError(){g.push("/404")}},"$WMtjDCJ5Me")}),(s,qe)=>{const R=P;return o(),u("main",ie,[m(d(U),{class:"http-dumps-event__head","button-title":"Delete event",onDelete:a},{default:p(()=>[m(R,{to:"/"},{default:p(()=>[c("Home")]),_:1}),c(" / "),m(R,{to:"/http-dumps"},{default:p(()=>[c("Http dumps")]),_:1}),c(" / "),m(R,{disabled:!0},{default:p(()=>[c(_(d(v)),1)]),_:1})]),_:1}),f.value&&!e.value?(o(),u("div",he,ge)):h("",!0),n("div",fe,[e.value?(o(),y(d(_e),{key:0,event:e.value},null,8,["event"])):h("",!0)])])}}}),je=N(ke,[["__scopeId","data-v-43caba92"]]);export{je as default};
