import{n as i,R as c}from"./BqbMuE7y.js";import{E as o}from"./BefdN0MI.js";const s=()=>{const e=i(),{token:r}=e.$authToken??{token:null},u={"X-Auth-Token":r||""},n=m=>`${c}/api/smtp/${m}/attachments`;return{getAttachmentsRestUrl:n,getAttachments:m=>fetch(n(m),{headers:u}).then(t=>t.json()).then(t=>t!=null&&t.data?t.data.map(a=>({id:a.uuid,name:a.name,size:a.size,mime:a.mime,uri:a.path})):(t==null?void 0:t.code)===403?(console.error("Forbidden"),[]):(console.error("Fetch Error"),[]))}},l=e=>({id:e.uuid,type:o.SMTP,labels:[o.SMTP],origin:null,serverName:"",date:e.timestamp?new Date(e.timestamp*1e3):null,payload:e.payload}),A=()=>{const{getAttachments:e}=s();return{normalizeSmtpEvent:l,getAttachments:e}};export{A as u};
