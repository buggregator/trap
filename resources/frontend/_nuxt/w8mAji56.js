import{T as N,a as w,u as A,_ as H}from"./Cuqdu9nB.js";import{m as Y}from"./B_g6P6pq.js";import{u as D}from"./DAR3qIk9.js";import"./BefdN0MI.js";import{d as P,c as f,o as a,a as n,b as s,t as v,F as h,r as k,f as d,w as r,u as i,h as R,J as L,K as V,g as x,e as u,p as S,i as T,_ as C,j as F,k as O,l as B,m as U,n as j}from"./BqbMuE7y.js";import{u as z}from"./DU45Wy3H.js";import"./BBk2F9bR.js";import{u as X,P as q}from"./k1uqWTyJ.js";const M=o=>(S("data-v-c958e41d"),o=o(),T(),o),J={ref:"main",class:"ray"},K={class:"ray__in"},G={class:"ray__header"},Q={class:"ray__header-title"},W={class:"ray__header-meta"},Z={class:"ray__header-date"},ee={class:"ray__body"},te={key:0},se={class:"ray__body"},ae=M(()=>s("h3",{class:"ray__body-text"},"Origin",-1)),oe={class:"ray__body"},ne=M(()=>s("h3",{class:"ray__body-text"},"Meta",-1)),re=P({__name:"ray-page",props:{event:{}},setup(o){const{COMPONENT_TYPE_MAP:g}=D(),_=o,b=f(()=>{const t=String(_.event.payload.payloads[0].type||"Unknown type");return t[0].toUpperCase()+t.slice(1)}),y=f(()=>Y(_.event.date).format("DD.MM.YYYY HH:mm:ss")),p=f(()=>{var t,c,e;return(t=_.event)!=null&&t.meta?[`text-${(c=_.event.meta)==null?void 0:c.size}`,`text-${(e=_.event.meta)==null?void 0:e.color}-500`]:[]}),m=t=>g[t];return(t,c)=>(a(),n("div",J,[s("main",K,[s("header",G,[s("h2",Q,v(b.value),1),s("div",W,[s("span",Z,v(y.value),1)])]),s("section",ee,[(a(!0),n(h,null,k(t.event.payload.payloads,e=>(a(),n(h,{key:`${e.type}-${e.origin?e.origin.line_number:""}`},[e.type&&m(e.type)?(a(),n("div",te,[(a(),R(V(m(e.type).view),L({ref_for:!0},{...m(e.type).getProps(e)},{class:p.value}),null,16,["class"]))])):x("",!0)],64))),128))]),s("section",se,[ae,d(i(N),{class:"ray__body-table"},{default:r(()=>[(a(!0),n(h,null,k(t.event.payload.payloads[0].origin,(e,l)=>(a(),R(i(w),{key:l,title:String(l)},{default:r(()=>[u(v(e),1)]),_:2},1032,["title"]))),128))]),_:1})]),s("section",oe,[ne,d(i(N),{class:"ray__body-table"},{default:r(()=>[(a(!0),n(h,null,k(t.event.payload.meta,(e,l)=>(a(),R(i(w),{key:l,title:String(l)},{default:r(()=>[u(v(e),1)]),_:2},1032,["title"]))),128))]),_:1})])])],512))}}),_e=C(re,[["__scopeId","data-v-c958e41d"]]),E=o=>(S("data-v-470f77fb"),o=o(),T(),o),ce={class:"ray-dump"},le={key:0,class:"ray-dump__loading"},de=E(()=>s("div",null,null,-1)),ue=E(()=>s("div",null,null,-1)),ie=E(()=>s("div",null,null,-1)),pe=[de,ue,ie],me={key:1,class:"ray-dump__body"},ye=P({__name:"[id]",setup(o){const{normalizeRayEvent:g}=D(),{params:_}=F(),{$authToken:b}=j(),y=O(),p=_.id;X({title:`Ray Dump > ${p} | Buggregator`});const{events:m}=A(),t=B(!1),c=B(null),e=f(()=>c.value?g(c.value):null),l=()=>{m.removeById(p),y.push("/")};return U(async()=>{t.value=!0,await z(m.getUrl(p),{headers:{"X-Auth-Token":b.token||""},onResponse({response:{_data:I}}){c.value=I,t.value=!1},onResponseError(){y.push("/404")},onRequestError(){y.push("/404")}},"$ALNIlIXj0A")}),(I,he)=>{const $=H;return a(),n("main",ce,[d(i(q),{class:"ray-dump__head","button-title":"Delete event",onDelete:l},{default:r(()=>[d($,{to:"/"},{default:r(()=>[u("Home")]),_:1}),u(" /  "),d($,{to:"/ray"},{default:r(()=>[u("Ray Dump")]),_:1}),u(" /  "),d($,{disabled:!0},{default:r(()=>[u(v(i(p)),1)]),_:1})]),_:1}),t.value&&!e.value?(a(),n("div",le,pe)):x("",!0),e.value?(a(),n("div",me,[d(i(_e),{event:e.value},null,8,["event"])])):x("",!0)])}}}),Ie=C(ye,[["__scopeId","data-v-470f77fb"]]);export{Ie as default};
