import{d as g,C as S,M as b,c as k,m as $,N as B,o as p,a as f,b as C,F as M,r as E,s as v,B as D,l as F,O as w,P as N,A as O,Q as _,S as J,u as K,T as U}from"./BqbMuE7y.js";const T=Symbol("addTab"),x=Symbol("updateTab"),A=Symbol("deleteTab"),H=Symbol("tabsProvider");function h(l,d){const e=U(l,d);if(typeof e>"u")throw new Error(`Could not resolve ${l.description}`);return e}const W=["data-tab-id","aria-hidden"],V=g({__name:"Tab",props:{panelClass:{default:"tabs-component-panel"},id:{default:void 0},name:null,prefix:{default:""},suffix:{default:""},isDisabled:{type:Boolean,default:!1},navItemClass:{default:void 0},navItemLinkClass:{default:void 0}},setup(l,{expose:d}){const e=l,i=F(!1),t=h(H),u=h(T),c=h(x),r=h(A),s=e.prefix+e.name+e.suffix,n=e.id?e.id:e.name.toLowerCase().replace(/ /g,"-"),a=n+"-pane",o=k(()=>"#"+(e.isDisabled?"":n));return w(()=>t.activeTabHash,()=>{i.value=o.value===t.activeTabHash}),w(()=>Object.assign({},e),()=>{c(n,{name:e.name,header:e.prefix+e.name+e.suffix,isDisabled:e.isDisabled,hash:o.value,index:t.tabs.length,computedId:n,paneId:a,navItemClass:e.navItemClass,navItemLinkClass:e.navItemLinkClass})}),N(()=>{u({name:e.name,header:s,isDisabled:e.isDisabled,hash:o.value,index:t.tabs.length,computedId:n,paneId:a,navItemClass:e.navItemClass,navItemLinkClass:e.navItemLinkClass})}),O(()=>{r(n)}),d({header:s,computedId:n,paneId:a,hash:o,isActive:i}),(m,I)=>_((p(),f("section",{ref:"tab",id:a,"data-tab-id":K(n),"aria-hidden":!i.value,class:v(l.panelClass),role:"tabpanel",tabindex:"-1"},[D(m.$slots,"default")],10,W)),[[J,i.value]])}});class j{get(d){const e=localStorage.getItem(d);if(e===null)return null;const i=JSON.parse(e);return i?new Date(i.expires)<new Date?(localStorage.removeItem(d),null):i.value:null}set(d,e,i){const t=new Date().getTime(),u=new Date(t+i*6e4);localStorage.setItem(d,JSON.stringify({value:e,expires:u}))}}const L=new j,z=["id"],P=["aria-controls","aria-selected","href","onClick","innerHTML"],q=g({__name:"Tabs",props:{id:{default:void 0},cacheLifetime:{default:5},options:{default:()=>({useUrlFragment:!0,defaultTabHash:void 0,storageKey:void 0})},wrapperClass:{default:"tabs-component"},panelsWrapperClass:{default:"tabs-component-panels"},navClass:{default:"tabs-component-tabs"},navItemClass:{default:"tabs-component-tab"},navItemDisabledClass:{default:"is-disabled"},navItemActiveClass:{default:"is-active"},navItemInactiveClass:{default:"is-inactive"},navItemLinkClass:{default:"tabs-component-tab-a"},navItemLinkActiveClass:{default:"is-active"},navItemLinkInactiveClass:{default:"is-inactive"},navItemLinkDisabledClass:{default:"is-disabled"}},emits:["changed","clicked"],setup(l,{expose:d,emit:e}){const i=l,t=S({activeTabHash:"",lastActiveTabHash:"",tabs:[]});b(H,t),b(T,s=>{t.tabs.push(s)}),b(x,(s,n)=>{const a=t.tabs.findIndex(o=>o.computedId===s);n.isActive=t.tabs[a].isActive,t.tabs[a]=n}),b(A,s=>{const n=t.tabs.findIndex(a=>a.computedId===s);t.tabs.splice(n,1)});const u=k(()=>{let s;return i.options.storageKey&&(s=i.options.storageKey),!s&&i.id&&(s=`vue-tabs-component.${i.id}.cache.${window.location.host}${window.location.pathname}`),s||(s=`vue-tabs-component.cache.${window.location.host}${window.location.pathname}`),s}),c=(s,n)=>{n&&!i.options.useUrlFragment&&n.preventDefault();const a=r(s);if(a){if(n&&a.isDisabled){n.preventDefault();return}if(t.lastActiveTabHash===a.hash){e("clicked",{tab:a});return}t.tabs.forEach(o=>{o.isActive=o.hash===a.hash}),e("changed",{tab:a}),t.lastActiveTabHash=t.activeTabHash=a.hash,!(i.cacheLifetime<=0)&&L.set(u.value,a.hash,i.cacheLifetime)}},r=s=>t.tabs.find(n=>n.hash===s);return $(()=>{if(t.tabs.length){if(window.addEventListener("hashchange",()=>c(window.location.hash)),r(window.location.hash)){c(window.location.hash);return}if(i.cacheLifetime>0){const s=L.get(u.value);if(s!==null&&r(s)){c(s);return}}if(i.options.defaultTabHash&&r("#"+i.options.defaultTabHash)){c("#"+i.options.defaultTabHash);return}c(t.tabs[0].hash)}}),d({...B(t),selectTab:c,findTab:r}),(s,n)=>(p(),f("div",{class:v(l.wrapperClass),id:l.id},[C("ul",{role:"tablist",class:v(l.navClass)},[(p(!0),f(M,null,E(t.tabs,(a,o)=>{var m,I;return p(),f("li",{key:o,class:v([(m=a.navItemClass)!=null?m:l.navItemClass,a.isDisabled?l.navItemDisabledClass:"",a.isActive?l.navItemActiveClass:a.isDisabled?"":l.navItemInactiveClass]),role:"presentation"},[C("a",{role:"tab",class:v([(I=a.navItemLinkClass)!=null?I:l.navItemLinkClass,a.isDisabled?l.navItemLinkDisabledClass:"",a.isActive?l.navItemLinkActiveClass:a.isDisabled?"":l.navItemLinkInactiveClass]),"aria-controls":a.paneId,"aria-selected":a.isActive,href:a.hash,onClick:y=>c(a.hash,y),innerHTML:a.header,tabindex:"0"},null,10,P)],2)}),128))],2),C("div",{class:v(l.panelsWrapperClass)},[D(s.$slots,"default")],2)],10,z))}});export{V as W,q};
